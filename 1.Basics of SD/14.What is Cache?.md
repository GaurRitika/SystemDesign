##  What is a Cache?

**Cache** is a **temporary, high-speed data storage layer** that stores **frequently accessed data** in such a way that future requests for that data can be served **much faster** than fetching from the original (slower) data source.

---

###  Real-life Analogy:

Imagine you’re a teacher grading papers.

* If a student asks you, “What’s the capital of France?” once, you look it up in a big book (slow).
* Next time someone asks, you remember it’s *Paris* (fast).
  That “memory” of yours = **cache**.

The book = **database** (slow but complete).
Your brain = **cache** (fast but limited).

---

##  Why Do We Need Caching?

When millions of users hit a system (like Instagram or YouTube), repeatedly fetching the same data from the database:

* Increases **latency** (slow response)
* Creates **load** on the DB
* Wastes **resources**

By using a **cache**, we:

* Serve repeated requests from memory (in milliseconds)
* Reduce DB load
* Improve user experience

---

##  Where Can Cache Be Used? (3 Levels)

1. **Client-side cache**

   * Stored in the browser (e.g., cookies, localStorage, HTTP cache)
   * Example: Instagram web app caching profile pictures

2. **CDN cache**

   * Cached at edge servers around the world
   * Example: Instagram images/videos cached on Cloudflare or Akamai near the user’s location

3. **Server-side (Application-level) cache**

   * Cached between the app server and the database
   * Example: Redis or Memcached storing user profile or session info

---

##  Common Caching Systems

| System                     | Type                      | Description                        |
| -------------------------- | ------------------------- | ---------------------------------- |
| **Redis**                  | In-memory key-value store | Most popular, supports persistence |
| **Memcached**              | In-memory key-value store | Very fast but non-persistent       |
| **CDN (e.g., Cloudflare)** | Edge-level cache          | Stores static content globally     |
| **Browser cache**          | Client-side               | Stores static assets locally       |

---

##  Example — Instagram Feed

Let’s say you open Instagram home feed:

1. Your app sends request → `/getFeed?user=ritika`
2. App server first checks **Redis cache**:

   * Is user `ritika`’s feed already cached?
3. If **yes** → Serve cached result instantly
4. If **no** → Fetch from database, render feed, and store result in Redis for next time

 Response time drops from ~100ms (DB query) to ~3ms (cache hit)!

---

##  Cache Hit vs Cache Miss

| Term           | Meaning                                 |
| -------------- | --------------------------------------- |
| **Cache Hit**  | Data found in cache (fast)              |
| **Cache Miss** | Data not found → fetched from DB (slow) |

Goal: **Increase cache hit ratio** (percentage of hits).

---

##  Cache Eviction Policies (When Memory is Full)

When cache gets full, old entries must be removed.
Common strategies:

| Policy                          | Description                               |
| ------------------------------- | ----------------------------------------- |
| **LRU (Least Recently Used)**   | Remove least recently accessed data       |
| **LFU (Least Frequently Used)** | Remove least frequently used data         |
| **FIFO (First In, First Out)**  | Remove oldest data first                  |
| **TTL (Time to Live)**          | Automatically expire data after some time |

---

##  Example of TTL Use Case

Let’s say user profile data is cached for **5 minutes (TTL = 300s)**.
Why?

* Usernames rarely change — 5 min caching is safe.
* But we don’t want stale data forever.

---

##  Summary

| Concept  | Explanation                                        |
| -------- | -------------------------------------------------- |
| Cache    | Fast temporary memory for frequently accessed data |
| Benefit  | Reduces latency, saves DB load                     |
| Levels   | Browser, CDN, Server (Redis/Memcached)             |
| Policies | LRU, LFU, TTL                                      |
| Goal     | High cache hit ratio, low miss penalty             |

---

